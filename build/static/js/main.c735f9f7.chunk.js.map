{"version":3,"sources":["redux/actions.js","redux/reducerBuilder.js","redux/reducerCabinet.js","redux/reducers.js","redux/store.js","Firebase/firebaseConfig.js","Firebase/Firebase.js","redux/middleware/loadUserMiddleware.js","components/firebaseHOC.jsx","components/loading/Loader.jsx","EventEmitter.js","components/Registration/Registration.jsx","Pages/Index/Index.jsx","redux/middleware/middlewareDelete.js","components/Icon/icon.jsx","components/header/Header.jsx","components/modalWindow/ModalWindow.jsx","redux/middleware/createProjectMiddleware.js","components/List/Item.jsx","components/List/List.jsx","components/ProjectsSection/ProjectsSection.jsx","Pages/Cabinet/Cabinet.jsx","Pages/About/About.jsx","components/instrumentsPanel/InstrumentsPanel.jsx","components/buildComponents/header/components/headerComponents.jsx","components/componentsBuildMenu/BuildMenu.jsx","components/controllers/controllers.jsx","components/buildComponents/header/headerBuild.jsx","Pages/Build/Build.jsx","App.jsx","index.js"],"names":["loadUserAction","state","type","active","idUser","uid","error","projects","Object","toConsumableArray","errorAction","initialState","nameEditComponent","settingsEditComponent","dateConnect","Date","now","toLocaleString","replace","split","combineReducers","builder","arguments","length","undefined","action","objectSpread","currentEditable","cabinet","middleware","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","store","createStore","firebaseConfig","apiKey","authDomain","process","REACT_APP_AUTH_DOMAIN","databaseURL","REACT_APP_DATABASE_URL","projectId","storageBucket","REACT_APP_STORAGE_BUCKET","messagingSenderId","REACT_APP_MESSAGING_SENDER_ID","appId","REACT_APP_APPID","interfaceFirebase","require","Firebase","classCallCheck","this","firebase","initializeApp","auth","db","firestore","rules","setPersistence","Auth","Persistence","email","password","signInWithEmailAndPassword","createUserWithEmailAndPassword","signOut","currentUser","saveSession","middlewareLogin","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","dispatch","wrap","_context","prev","next","login","then","response","collection","doc","user","get","docUser","data","id","catch","message","stop","_x","apply","middlewareLogOutUser","_ref3","_callee3","_context3","_x3","withFirebase","Component","props","react_default","createElement","assign","Loader","_useState","useState","path","slicedToArray","className","src","alt","stream","EventEmitter","_this","emailRef","passwordRef","setRefEmail","node","setRefPassword","createUser","event","value","registration","set","eventStream","emit","setState","autoComplete","ref","onClick","React","PureComponent","Index","title","registrationActive","regStatus","wrongEnter","statusRegistration","additionalUserInfo","isNewUser","console","log","showBox","authTo","emailImput","passwordImput","componentDidMount","e","on","componentWillUnmount","off","react_router","to","currentSelected","components_Registration_Registration","connect","middlewareDelete","item","filter","itemdb","update","Icon","_useState3","_useState5","draggable","iconPath","CabinetIcon","Header","logOut","redirect","location","pathname","history","push","add","icon","react_router_dom","withRouter","ModalWindow","workMode","newProject","validateName","validateType","disabled","name","warning","lengthMax","lengthMin","inputSelect","disabledButton","addNewProject","mode","selectOption","inputs","target","defineProperty","lengthInput","cancel","refSelect","onChange","placeholder","react","middlewareCreateProject","list","lastProject","lastIndex","components","data-id","concat","stopPropagation","List","makeList","map","project","List_Item","key","componentWillMount","ProjectsSection","components_List_List","Cabinet","deletItem","getCurrentUser","changeWorkMode","header_Header","modalWindow_ModalWindow","components_ProjectsSection_ProjectsSection","config","about","developer","year","InstrumentsPanel","instrumentPanel","sizeTextValue","colorPickerAvtive","resetAll","closePanel","close","setSize","size","setContent","contentValue","content","setColor","handleChangeComplete","makePanelInstruments","min","max","lib","onChangeComplete","maxLength","defaultValue","componentDidUpdate","oldProps","oldState","instrumentActive","Title","styled","h1","_templateObject","textColor","Background","div","_templateObject2","background","openBgInstruments","video","_templateObject3","openTitleInstruments","TitleComponent","color","_useState2","colorText","setColorText","_useState4","sizeText","setSizeText","children","_useState6","contentText","setText","changeColorText","colorHash","rgb","colorRGB","r","g","b","changeSizeText","eventSize","changeContentText","eventContent","useEffect","BackgroundComponent","_useState7","_useState8","backgroundColor","setBgColor","changeColor","BuildMenu","component","addText","componentArrayWrapper","headerComponents_TitleComponent","addBackground","headerComponents_BackgroundComponent","ControllersBox","attrs","style","left","coordX","top","coordY","controllers_templateObject","Controllers","viewComponentMenu","shiftX","shiftY","coordsX","coordsY","componentMenu","saveCoords","getBoundingClientRect","pageX","pageY","drag","controlBox","refControll","menuActive","onMouseDown","onDrag","onDragEnd","componentsBuildMenu_BuildMenu","HeaderBuild","idProject","changeMode","editStart","eventEmitter","build","readyBuild","controllers","Build","parseInt","match","params","param","typeProject","editComponent","edit","changeEdit","workModeEdit","itemEvent","openInstrument","addHeaderComponent","instrumentsPanel_InstrumentsPanel","header_headerBuild","App","firebaseLoadState","_this2","onAuthStateChanged","_ref2","_callee2","_context2","_x2","_this3","exact","render","Pages_Index_Index","Pages_About_About","ReactDOM","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.c735f9f7.chunk.js","sourcesContent":["const CREATE_PROJECT = 'CREATE_PROJECT';\r\nconst LOAD_CURRENT = 'LOAD_CURRENT';\r\nconst LOG_OUT_CABINET = 'LOG_OUT_CABINET';\r\nconst LOAD_USER_CABINET = 'LOAD_USER_CABINET';\r\nconst ERROR_CABINET = 'ERROR_CABINET';\r\n\r\n\r\nconst createProjectAction = (state) => {\r\n    return {\r\n        type: CREATE_PROJECT,\r\n        projects: [...state],\r\n    }\r\n}\r\n\r\nconst loadCurrentProjectAction = (state) => {\r\n    return {\r\n        type: LOAD_CURRENT,\r\n        currentEditable: state,\r\n    }\r\n\r\n}\r\n\r\nconst loadUserAction = (state) => {\r\n    return {\r\n        type: LOAD_USER_CABINET,\r\n        active: true,\r\n        idUser: state.uid,\r\n        error: '',\r\n        projects: [...state.projects]\r\n    }\r\n}\r\n\r\nconst logOutAction = (state) => {\r\n\r\n    return {\r\n        type: LOG_OUT_CABINET,\r\n        active: false,\r\n        idUser: null,\r\n        error: '',\r\n        projects: []\r\n    }\r\n}\r\n\r\nconst errorAction = (state) => {\r\n    return {\r\n        type: ERROR_CABINET,\r\n        error: state\r\n    }\r\n}\r\n\r\nexport {\r\n    CREATE_PROJECT, createProjectAction, /* cabinet */\r\n    LOAD_USER_CABINET, loadUserAction, /* cabinet */\r\n    LOG_OUT_CABINET, logOutAction, /* cabinet */\r\n    LOAD_CURRENT, loadCurrentProjectAction, /* builder */\r\n    ERROR_CABINET, errorAction, /* both */\r\n}","import {LOAD_CURRENT} from './actions';\r\n\r\nconst initialState = {\r\n    nameEditComponent: null,\r\n    settingsEditComponent: {},\r\n};\r\nexport default (state = initialState, action) => {\r\n    switch (action.type){\r\n\r\n        case LOAD_CURRENT: {\r\n            return {\r\n                ...state,\r\n                currentEditable: {...action.currentEditable}\r\n            }\r\n        }\r\n        default: return state;\r\n    }\r\n};","import {LOAD_USER_CABINET, LOG_OUT_CABINET, ERROR_CABINET, CREATE_PROJECT} from './actions';\r\n\r\nconst initialState = {\r\n    active: false,\r\n    idUser: null,\r\n    projects: [],\r\n    error: null,\r\n    dateConnect: new Date(Date.now()).toLocaleString().replace(/\\s/ig,'').split(','),\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n\r\n    switch(action.type) {\r\n        case LOAD_USER_CABINET: {\r\n\r\n            return {\r\n                ...state,\r\n                active: action.active,\r\n                idUser: action.idUser,\r\n                projects: action.projects\r\n            }\r\n        }\r\n\r\n        case CREATE_PROJECT: {\r\n            return {\r\n                ...state,\r\n                projects: action.projects\r\n            }\r\n        }\r\n\r\n        case LOG_OUT_CABINET: {\r\n            return {\r\n                ...state,\r\n                active: false,\r\n                idUser: null,\r\n                projects: []\r\n            }\r\n        }\r\n\r\n        case ERROR_CABINET: {\r\n            return {\r\n                ...state,\r\n                error: action.error\r\n            }\r\n        }\r\n        default: return state;\r\n    }\r\n}\r\n\r\n","import {combineReducers} from 'redux';\r\nimport reducerBuilder from './reducerBuilder';\r\nimport reducerCabinet from './reducerCabinet';\r\n\r\nexport default combineReducers({\r\n    builder: reducerBuilder,\r\n    cabinet: reducerCabinet,\r\n});","import {createStore, applyMiddleware, compose} from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport combineReducers from './reducers';\r\n\r\nconst composeEnhancers =\r\n  typeof window === 'object' &&\r\n  window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?\r\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\r\n    }) : compose;\r\n\r\nconst middleware = composeEnhancers(\r\n  applyMiddleware(thunk)\r\n);\r\nconst store = createStore(combineReducers, middleware);\r\n\r\n\r\nexport default store;","// setings in root folder / firebase.env\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyBrLv9RyGWXCeEETRqBbBo3EVOcibmnJwU\",\r\n    authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n    databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n    projectId: \"constructor-acb61\",\r\n    storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n    appId: process.env.REACT_APP_APPID\r\n};\r\n\r\nexport {firebaseConfig}","import firebase from '@firebase/app';\r\nimport {firebaseConfig} from './firebaseConfig';\r\n\r\nconst auth = require('firebase/auth');\r\nconst firestore = require('firebase/firestore');\r\n\r\nclass Firebase {\r\n\r\n        constructor(){\r\n                firebase.initializeApp(firebaseConfig);\r\n                this.auth = firebase.auth();\r\n                this.db = firebase.firestore();\r\n        }\r\n\r\n        saveSession(rules){\r\n                return this.auth.setPersistence(firebase.auth.Auth.Persistence[rules]);\r\n        }\r\n\r\n        login(email, password){\r\n                return this.auth.signInWithEmailAndPassword(email, password);\r\n        }\r\n\r\n        registration(email, password){\r\n                return this.auth.createUserWithEmailAndPassword(email, password)\r\n        }\r\n\r\n        signOut(){\r\n                return this.auth.signOut()\r\n        }\r\n\r\n        getCurrentUser() {\r\n                return this.auth.currentUser\r\n        }\r\n}\r\n\r\nlet interfaceFirebase = new Firebase();\r\ninterfaceFirebase.saveSession('SESSION');\r\n\r\nexport default interfaceFirebase;\r\n\r\nexport { auth, firestore };\r\n\r\n","import firebase from '../../Firebase/Firebase';\r\nimport {loadUserAction, errorAction, logOutAction} from '../actions';\r\n\r\nconst middlewareLogin = (email,password) => async dispatch => {\r\n        await firebase.login(email,password)\r\n        .then(response =>{\r\n            firebase.db.collection(\"users\").doc(response.user.uid).get()\r\n            .then(docUser => {\r\n                let user = docUser.data();\r\n                dispatch(loadUserAction({uid: docUser.id, projects: [...user.projects]}))\r\n            })\r\n        })\r\n        .catch((error) => dispatch(errorAction(error.message)));\r\n    }\r\n\r\nconst middlewareLoadUserData = (uid) => async dispatch => {\r\n        await firebase.db.collection(\"users\").doc(uid).get()\r\n        .then(docUser => {\r\n            let user = docUser.data();\r\n            dispatch(loadUserAction({uid: uid, projects: [...user.projects]}))\r\n        })\r\n        .catch(error => dispatch(errorAction(error.message)));\r\n    }\r\n\r\nconst middlewareLogOutUser = (uid) => async dispatch => {\r\n    await firebase.signOut()\r\n    .then (response => {\r\n        dispatch(logOutAction());\r\n    })\r\n    .catch(error => dispatch(errorAction(error.message)));\r\n}\r\nexport {\r\n    middlewareLogin,middlewareLoadUserData, middlewareLogOutUser\r\n}","import React from 'react';\r\nimport firebase from '../Firebase/Firebase';\r\n\r\nconst withFirebase = Component => props => (\r\n    <Component firebase = {firebase} {...props} />\r\n);\r\n\r\nexport default withFirebase;","import React,{useState} from 'react';\r\n\r\nexport default function(props) {\r\n    const [path] = useState(props.path);\r\n    return (\r\n            <div className = 'loaderBox'>\r\n                <img className = 'loader' src = {path} alt = 'loader'></img> \r\n                <p>Loading {props.type}</p>\r\n            </div>\r\n    )\r\n}","import {EventEmitter} from 'events';\r\nconst stream = new EventEmitter();\r\nexport default stream;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport eventStream from '../../EventEmitter';\r\nimport './registration.scss';\r\n\r\nimport withFirebase from '../../components/firebaseHOC';\r\n\r\n\r\nclass Registration extends React.PureComponent {\r\n\r\n    static propTypes = {\r\n        firebase: PropTypes.object.isRequired,\r\n    }\r\n\r\n    state = {\r\n        firebase: this.props.firebase,\r\n        error: null,\r\n    }\r\n\r\n    emailRef = null;\r\n    passwordRef = null;\r\n\r\n    setRefEmail = (node) => this.emailRef = node;\r\n    setRefPassword = (node) => this.passwordRef = node;\r\n\r\n    createUser = (event) => {\r\n\r\n        const email = this.emailRef.value;\r\n        const password = this.passwordRef.value;\r\n        const { firebase } = this.props;\r\n\r\n        firebase.registration(email, password)\r\n        .then(response => {\r\n            firebase.db.collection(\"users\").doc(response.user.uid).set({\r\n                'projects': [],\r\n                'email': email,\r\n            }).then(() => eventStream.emit('EventRegistrationCorrect', response))\r\n        })\r\n        .catch((error) => this.setState({error: error.message}));\r\n    };\r\n\r\n    render(){\r\n        let  { error } = this.state;\r\n\r\n        return (\r\n            <div className = 'RegistrationBox'>\r\n                <div  className = 'RegistrationForm'>\r\n                    <h3>Registration</h3>\r\n                    <form autoComplete = 'off' className = 'RegForm'>\r\n                        { error ?\r\n                            <p className = 'error'>{error}</p>\r\n                            : null\r\n                        }\r\n                        <span>E-mail</span>\r\n                        <input ref = {this.setRefEmail} type = 'text' />\r\n                        <span>Password</span>\r\n                        <input  autoComplete = \"off\" ref = {this.setRefPassword} type = 'password' />\r\n                        <input onClick = {this.createUser}\r\n                                className = 'loginButton'\r\n                                type = 'button'\r\n                                value = 'registration'\r\n                        />\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\nexport default withFirebase(Registration);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport eventStream from '../../EventEmitter';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nimport {middlewareLogin} from '../../redux/middleware/loadUserMiddleware';\r\n\r\nimport Loader from '../../components/loading/Loader';\r\nimport Registration from '../../components/Registration/Registration';\r\n\r\nimport {connect} from 'react-redux';\r\n\r\nimport './index.scss';\r\n\r\nclass Index extends React.PureComponent {\r\n\r\n    static propTypes = {\r\n        config: PropTypes.object,\r\n    }\r\n\r\n    state = {\r\n        title:  \"Constructor\",\r\n        registrationActive: false,\r\n        regStatus: false,\r\n        wrongEnter: false,\r\n        error: ''\r\n    }\r\n\r\n    statusRegistration = (event) => {\r\n        event.additionalUserInfo.isNewUser ?\r\n        this.setState({...this.state,\r\n                        regStatus: true,\r\n                        registrationActive: false,\r\n                        error: 'Account create!'\r\n                    })\r\n        : console.log('error registration');\r\n    }\r\n\r\n    showBox = (event) => {\r\n        this.setState ({\r\n            ...this.state,\r\n        registrationActive: this.state.registrationActive ? false : true\r\n        })\r\n    }\r\n\r\n    authTo = (event) => {\r\n            this.props.dispatch(middlewareLogin(this.emailImput.value, this.passwordImput.value));\r\n}\r\n    emailImput = null;\r\n    passwordImput = null;\r\n    emailRef = (node) => this.emailImput = node;\r\n    passwordRef = (node) => this.passwordImput = node;\r\n\r\n    render(){\r\n\r\n        if (this.props.active) return <Redirect to = '/Cabinet' />\r\n        else if (!this.props.active) {\r\n            let currentSelected = this.state.registrationActive;\r\n            return (\r\n                <div className = 'LoginPage flex-column'>\r\n                        <h1>{this.state.title}</h1>\r\n                        <div className = 'LoginBox'>\r\n                            <div className = 'LoginForm'>\r\n                                <h3>Connect form</h3>\r\n                                {\r\n                                    this.props.wrongEnter || this.state.regStatus ?\r\n                                    <p className = 'error'>{this.props.wrongEnter}</p>\r\n                                    : null\r\n                                }\r\n                                <p>E-mail</p>\r\n                                <input ref = {this.emailRef} type = 'text' />\r\n                                <p>Password</p>\r\n                                <input ref = {this.passwordRef} type = 'password' />\r\n                                <input \r\n                                    onClick = {this.authTo} \r\n                                    className = 'loginButton'\r\n                                    type = 'button'\r\n                                    value = 'enter' />\r\n                                <input\r\n                                    onClick = {this.showBox}\r\n                                    className = {currentSelected ? `loginButton selected`\r\n                                        : 'loginButton'}\r\n                                    type = 'button'\r\n                                    value = 'registration'\r\n                                    />\r\n                            </div>\r\n                        </div>\r\n                        {\r\n                            this.state.registrationActive ?\r\n                            <Registration auth = {this.props.auth} />\r\n                            : null\r\n                        }\r\n                </div>\r\n            )\r\n        } else  return <Loader path = '/img/loading.gif' type = 'session' />\r\n    }\r\n\r\n    componentDidMount = (e) => {\r\n        eventStream.on('EventRegistrationCorrect', this.statusRegistration);\r\n    }\r\n    componentWillUnmount = (e) => {\r\n        eventStream.off('EventRegistrationCorrect', this.statusRegistration);\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {active: state.cabinet.active, wrongEnter: state.cabinet.error}\r\n  }\r\n\r\nexport default connect(mapStateToProps)(Index);","import firebase from '../../Firebase/Firebase';\r\nimport {errorAction, loadUserAction} from '../actions';\r\n\r\nconst middlewareDelete = item => async dispatch => {\r\n    console.log('middleware');\r\n    await firebase.db.collection('users').doc(item.uid).get()\r\n    .then(user => user.data())\r\n    .then(data => {\r\n        return {id: data.id, projects: data.projects.filter(itemdb => itemdb.id !== item.id)};\r\n    })\r\n    .then(data => {\r\n        firebase.db.collection(\"users\").doc(item.uid).update({\r\n            \"projects\": data.projects\r\n        })\r\n        .then(response => {\r\n            dispatch(loadUserAction({uid: data.id, projects: data.projects}));\r\n        });\r\n    })\r\n    .catch(error => {\r\n        dispatch(errorAction(error.message));\r\n    });\r\n}\r\n\r\nexport default middlewareDelete;\r\n","import React, {useState} from 'react';\r\n\r\n\r\nfunction Icon(props){\r\n    const [path] = useState(props.path);\r\n    const [className] = useState(props.className ? props.className : null);\r\n    const [draggable] = useState(props.draggable ? true : false);\r\n\r\n    return (\r\n    <img\r\n        draggable = {draggable}\r\n        onClick = {props.onClick ? props.onClick : null}\r\n        className = {className}\r\n        title = {props.title ? props.title : null}\r\n        src = {path} alt = 'icon'>\r\n    </img>\r\n    )\r\n}\r\n\r\nexport default Icon;","import React from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport './header.scss';\r\n\r\nimport {middlewareLogOutUser} from '../../redux/middleware/loadUserMiddleware';\r\nimport {connect} from 'react-redux';\r\nimport {withRouter, NavLink} from 'react-router-dom';\r\n\r\nimport eventStream from '../../EventEmitter.js';\r\nimport Icon from '../Icon/icon';\r\n\r\n\r\nconst iconPath = require('../../config.json').CabinetIcon;\r\n\r\nclass Header extends React.Component {\r\n\r\n    static propTypes = {\r\n        title: PropTypes.string.isRequired,\r\n    };\r\n\r\n    state = {\r\n        title: this.props.title,\r\n    };\r\n\r\n    logOut = (event) => {\r\n        this.props.dispatch(middlewareLogOutUser(this.props.idUser));\r\n    };\r\n\r\n    redirect = (e) => {\r\n        if (this.props.location.pathname !== '/Cabinet/About')\r\n            this.props.history.push('/Cabinet/About');\r\n    };\r\n\r\n    add = (e) => {\r\n        eventStream.emit('EventChangeWorkMode',{action: 'newProject'});\r\n    };\r\n\r\n    render(){\r\n        return (\r\n            <header>\r\n                <div className = 'container'>\r\n                    <div className = 'flex-row'>\r\n                            <div className = 'header__CabinetInfo'>\r\n                                <Icon path = {iconPath} />\r\n                                <NavLink to = '/Cabinet'><h3>{this.state.title}</h3></NavLink>\r\n                            </div>\r\n                            {this.props.location.pathname === '/Cabinet' ?\r\n                                <div onClick = {this.add} className = 'header__newProject__AddButton'>\r\n                                    <Icon path = '/img/plus.png' />\r\n                                </div>\r\n                                : null\r\n                            }\r\n                                <div  className = 'Navigator'>\r\n                                    <Icon onClick = {this.redirect} title = 'about' path = '/img/about_logo.svg' />\r\n                                    <Icon onClick = {this.logOut} title = 'logOut' path = '/img/logOut.svg' />\r\n                                </div>\r\n                    </div>\r\n               </div>\r\n            </header>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect()(withRouter(Header));","import React,{Fragment} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport eventStream from '../../EventEmitter.js';\r\n\r\nimport './modal.scss';\r\n\r\nclass ModalWindow extends React.PureComponent {\r\n\r\n    static propTypes = {\r\n        mode: PropTypes.string\r\n    }\r\n\r\n    state = {\r\n        workMode: this.props.workMode,\r\n\r\n        newProject: {\r\n            validateName: false,\r\n            validateType: false,\r\n            disabled: true,\r\n            name: '',\r\n            type: 'empty'\r\n        },\r\n        warning: {\r\n            lengthMax: 'Max length: 20 symbols',\r\n            lengthMin: 'Min length: 4 symbol',\r\n            type: 'Select type of webpage',\r\n        }\r\n    }\r\n\r\n    inputSelect = null;\r\n\r\n    disabledButton = (action) => {\r\n\r\n    }\r\n\r\n    addNewProject = (event) => {\r\n        let mode = this.state[this.state.workMode];\r\n        if (mode.validateType &&  mode.validateName) {\r\n            eventStream.emit('EventAddProject',\r\n            {\r\n                title: this.state[this.state.workMode].name,\r\n                type: this.state[this.state.workMode].type\r\n            });\r\n\r\n            eventStream.emit('EventChangeWorkMode',{action: 'default'});\r\n        }\r\n    }\r\n\r\n    selectOption = (event) => {\r\n\r\n        let inputs = {...this.state[this.state.workMode]};\r\n        inputs.type = event.target.value;\r\n        inputs.validateType = inputs.type !== 'empty';\r\n        inputs.disabled = inputs.validateType && inputs.validateName ? false : true;\r\n        this.setState({\r\n            ...this.state,\r\n            [this.state.workMode]: inputs\r\n        });\r\n    }\r\n\r\n    validateName = (event) => {\r\n\r\n        let inputs = {...this.state[this.state.workMode]};\r\n        inputs.name = event.target.value;\r\n        let lengthInput = inputs.name.length;\r\n        inputs.validateName = lengthInput >= 4 && lengthInput < 20 ? true : false;\r\n        inputs.disabled = inputs.validateType && inputs.validateName ? false : true;\r\n\r\n        this.setState({\r\n            ...this.state,\r\n            [this.state.workMode]: inputs\r\n        })\r\n    };\r\n\r\n    cancel = (event) => {\r\n        eventStream.emit('EventChangeWorkMode',{action: 'default'});\r\n    }\r\n\r\n    refSelect = (node) => this.inputSelect = node;\r\n\r\n    render(){\r\n\r\n        switch (this.state.workMode){\r\n\r\n            case 'newProject': {\r\n                return (\r\n                        <div className = 'Modal'>\r\n                            <h3>Create new Project</h3>\r\n                            {\r\n                                this.state[this.state.workMode].name.length <= 3 ?\r\n                                <span className = 'warning'>{this.state.warning.lengthMin}</span> : null\r\n                            }\r\n                            {\r\n                                this.state[this.state.workMode].name.length >= 20 ?\r\n                                <span className = 'warning'>{this.state.warning.lengthMax}</span> : null\r\n                            }\r\n                            <input\r\n                                className = {this.state[this.state.workMode].validateName ? 'ready' : 'wrong'}\r\n                                value = {this.state[this.state.workMode].name}\r\n                                onChange = {this.validateName}\r\n                                type = 'text'\r\n                                placeholder = \"Project name\"\r\n                            />\r\n                            {\r\n                                !this.state[this.state.workMode].validateType ?\r\n                                <span className = 'warning'>{this.state.warning.type}</span> : null\r\n                            }\r\n                            <select onChange = {this.selectOption} >\r\n                                <option value = 'empty'>--------</option>\r\n                                <option value = 'landing'>Landing</option>\r\n                                <option value = 'portfolio'>Portfolio</option>\r\n                            </select>\r\n                            <input \r\n                                onClick = {this.addNewProject}\r\n                                className = 'acceptButton'\r\n                                disabled = {this.state[this.state.workMode].disabled}\r\n                                type = 'button'\r\n                                value = 'Submit'\r\n                            />\r\n                            <input onClick = {this.cancel} type ='button' value = 'Cancel' />\r\n                        </div>\r\n                )\r\n            }\r\n            default: {\r\n                return (\r\n                    <Fragment></Fragment>\r\n                )\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default ModalWindow;","import firebase from '../../Firebase/Firebase';\r\nimport {createProjectAction, errorAction} from '../actions';\r\n\r\n\r\nconst middlewareCreateProject = (uid, list, title, type) => async dispatch => {\r\n    let lastProject = [...list];\r\n    const lastIndex = lastProject.length  ? lastProject[lastProject.length-1].id + 1 : 0;\r\n    lastProject.push({\"id\": lastIndex, \"title\": title, \"type\": type, components: {}});\r\n\r\n    await firebase.db.collection(\"users\").doc(uid).update({\r\n        'projects': lastProject,\r\n    })\r\n    .then (() => dispatch(createProjectAction(lastProject)))\r\n    .catch(error => dispatch(errorAction(error.message)));\r\n};\r\n\r\nexport {\r\n    middlewareCreateProject\r\n}","import React, {useState} from 'react';\r\nimport eventStream from '../../EventEmitter';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nfunction Item(props) {\r\n    const [id] = useState(props.id);\r\n    const [name] = useState(props.name);\r\n    const [type] = useState(props.type);\r\n\r\n\r\n    const build = event => {\r\n        props.history.push(`/Cabinet/Build/${id}`);\r\n        event.stopPropagation();\r\n    };\r\n\r\n    const deleteItem = event => {\r\n        eventStream.emit('EventDeleteItem',{id: props.id, name: props.name, type: props.type});\r\n        event.stopPropagation();\r\n    };\r\n\r\n    return (\r\n        <div className = 'item' data-id = {id}>\r\n            <p className = 'ProjectName'>{name}</p>\r\n            <p className = 'ProjectType'>{type}</p>\r\n            <div className = 'projectController'>\r\n            <input onClick = {build} className = 'projectControllerButton_enter' type = 'button' value = 'enter build' />\r\n            <input onClick = {deleteItem} className = 'projectControllerButton_delete' type = 'button' value = 'delete' />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Item);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport {middlewareCreateProject} from '../../redux/middleware/createProjectMiddleware';\r\n\r\nimport './list.scss';\r\n\r\nimport Item from './Item';\r\nimport eventStream from '../../EventEmitter.js';\r\n\r\nclass List extends React.PureComponent {\r\n\r\n    static propTypes = {\r\n        children: PropTypes.shape({\r\n            projects: PropTypes.array.isRequired,\r\n           count: PropTypes.number.isRequired,\r\n        }),\r\n        list: PropTypes.array.isRequired,\r\n    }\r\n\r\n    state = {\r\n        redirect: false,\r\n    }\r\n\r\n    addNewProject = (item) => {\r\n        if (this.props.idUser) {\r\n            this.props.dispatch(middlewareCreateProject(this.props.idUser, this.props.list, item.title, item.type));\r\n        } else this.setState({...this.state, redirect: true});\r\n    }\r\n\r\n\r\n    makeList = (list) => {\r\n\r\n        return list.map (project => {\r\n\r\n            return(\r\n                <Item\r\n                    key = {project.id}\r\n                    id = {project.id}\r\n                    name = {project.title}\r\n                    type = {project.type}\r\n                />\r\n            )\r\n        });\r\n    }\r\n\r\n    render(){\r\n        if (this.state.redirect)\r\n            return <Redirect to = '/' />\r\n            else return (\r\n                    <div className = 'projectsList__list'>\r\n                        {this.makeList([...this.props.list])}\r\n                    </div>\r\n                )\r\n    }\r\n\r\n    componentWillMount = () =>\r\n        eventStream.on('EventAddProject',this.addNewProject);\r\n\r\n      componentWillUnmount = () =>\r\n        eventStream.off('EventAddProject',this.addNewProject);\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        idUser: state.cabinet.idUser,\r\n        list: [...state.cabinet.projects]\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(List);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nimport List from '../List/List.jsx';\r\n\r\nimport './ProjectsSection.scss';\r\n\r\nclass ProjectsSection extends React.PureComponent {\r\n\r\n    static propTypes = {\r\n        projects: PropTypes.array,\r\n    }\r\n\r\n    render(){\r\n        return (\r\n                <section className = 'projectsList'>\r\n                <div className = 'container'>\r\n                <div className = 'flex-column'>\r\n                        <div className = 'projectsList__about'>\r\n                            <h3>Your Projects</h3>\r\n                        </div>\r\n                        <List />\r\n                    </div>\r\n                </div>\r\n                </section>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default ProjectsSection;","import React,{Fragment} from 'react';\nimport PropTypes from 'prop-types';\nimport eventStream from '../../EventEmitter.js';\nimport {Redirect} from 'react-router-dom';\nimport withFirebase from '../../components/firebaseHOC';\n\nimport {middlewareLogOutUser} from '../../redux/middleware/loadUserMiddleware';\nimport middlewareDelete from '../../redux/middleware/middlewareDelete';\nimport Loader from '../../components/loading/Loader';\nimport {connect} from 'react-redux';\n\nimport Header from '../../components/header/Header';\nimport Modal from '../../components/modalWindow/ModalWindow';\nimport ProjectsSection from '../../components/ProjectsSection/ProjectsSection';\n\nimport './Cabinet.scss';\n\nconst title = require('../../config.json').title;\n\nclass Cabinet extends React.PureComponent {\n\n  static propTypes = {\n    firebase: PropTypes.object.isRequired\n  }\n\n  state = {\n    workMode: 'default',\n  }\n\n  logOut = event => {\n    this.props.dispatch(middlewareLogOutUser(this.props.idUser));\n  }\n\n  deletItem = event => {\n    this.props.dispatch(middlewareDelete({...event, uid: this.props.firebase.getCurrentUser().uid}));\n  }\n\n  changeWorkMode = event => {\n    this.setState ({\n      ...this.state,\n      workMode: event.action,\n    });\n  }\n\n  render(){\n    if (this.props.active){\n      return (\n        <Fragment>\n          <Header title = {title} idUser = {this.props.idUser} />\n          {(this.state.workMode === 'newProject') ? <Modal workMode = {this.state.workMode} /> : null}\n            <ProjectsSection />\n        </Fragment>\n      )\n    } else if (!this.props.firebase.getCurrentUser()) return <Redirect to = '/' />\n    else return <Loader path = '/img/loading.gif' type = 'Cabinet' />\n    }\n\n\n  componentDidMount = () => {\n    eventStream.on('EventDeleteItem', this.deletItem);\n    eventStream.on('EventChangeWorkMode', this.changeWorkMode);\n  }\n\n  componentWillUnmount = () => {\n    eventStream.off('EventDeleteItem', this.deletItem);\n    eventStream.off('EventChangeWorkMode', this.changeWorkMode);\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    idUser: state.cabinet.idUser,\n    projects: [...state.cabinet.projects],\n    active: state.cabinet.active\n  }\n}\n\n\n\nexport default connect(mapStateToProps)(withFirebase(Cabinet));\n","import React, {Fragment} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nimport withFirebase from '../../components/firebaseHOC';\r\nimport Header from '../../components/header/Header';\r\n\r\nimport './about.scss';\r\n\r\nclass About extends React.PureComponent {\r\n\r\n    static propTypes = {\r\n        config: PropTypes.object.isRequired,\r\n        firebase: PropTypes.object.isRequired,\r\n    }\r\n\r\n    state = {\r\n        config: this.props.config\r\n    };\r\n\r\n    render(){\r\n        if (this.props.firebase.getCurrentUser()) {\r\n            const { config } = this.state;\r\n            return (\r\n                <Fragment>\r\n                    <Header title = {config.title} />\r\n                    <section className = 'About'>\r\n                        <div className = 'container'>\r\n                            <div className = 'col-12'>\r\n                                <div className = 'information'>\r\n                                <img alt = 'img' className = 'logoAbout' src = {process.env.PUBLIC_URL + '/img/about.jpg'}/>\r\n                                    <p className ='developer'><span>Developer:</span> {config.about.developer}</p>\r\n                                    <p className = 'year'><span>Year:</span> {config.about.year}</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n                </Fragment>\r\n            )\r\n        } else return <Redirect to = '/' />\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default withFirebase(About);","import React, {Fragment} from 'react';\r\nimport eventStream from '../../EventEmitter';\r\nimport PropTypes from 'prop-types';\r\nimport { SketchPicker } from 'react-color';\r\nimport './instrumentsPanel.scss';\r\n\r\nimport Icon from '../Icon/icon';\r\n\r\nclass InstrumentsPanel extends React.PureComponent {\r\n\r\n    static propTypes = {\r\n        instrumentPanel:  PropTypes.object.isRequired,\r\n        editComponent: PropTypes.object.isRequired\r\n    }\r\n\r\n    state = {\r\n        instrumentPanel: {...this.props.instrumentPanel},\r\n        sizeTextValue: 120,\r\n        colorPickerAvtive: false\r\n    }\r\n\r\n    resetAll = event => {\r\n        console.log(event.target);\r\n        event.stopPropagation();\r\n        if (this.state.colorPickerAvtive)\r\n        this.setState({...this.state, colorPickerAvtive: false });\r\n    }\r\n\r\n    closePanel = event => {\r\n        eventStream.emit('EventClosePanel', {close: false});\r\n    }\r\n\r\n    setSize = event => {\r\n        let size = event.target.value > 200 ? 200 : event.target.value;\r\n        event.stopPropagation();\r\n        this.setState({sizeTextValue: size}, () => {\r\n            eventStream.emit('EventChangeSizeText', {size: this.state.sizeTextValue + 'px' });\r\n        });\r\n    }\r\n\r\n    setContent = event => {\r\n        let contentValue = event.target.value;\r\n        event.stopPropagation();\r\n        eventStream.emit(\"EventChangeContentText\",{content: contentValue});\r\n    }\r\n\r\n    setColor = event => {\r\n        event.stopPropagation();\r\n        this.setState({...this.state, colorPickerAvtive: this.state.colorPickerAvtive ? false : true});\r\n    };\r\n\r\n    handleChangeComplete = event => {\r\n\r\n        if (this.state.instrumentPanel.target === 'background')\r\n            eventStream.emit('EventChangeColor', event);\r\n        else if (this.state.instrumentPanel.target === 'text')\r\n            eventStream.emit('EventChangeColorText', event);\r\n    }\r\n\r\n    makePanelInstruments = (type) => {\r\n        switch (type){\r\n            case 'text': {\r\n            return (\r\n                    <Fragment>\r\n                    <p className = 'titleInstument'>Color: </p>\r\n                    <input onClick = {this.setColor} className = 'button_switchColor' type = 'button' value = 'color pick' />\r\n                    <p className = 'titleInstument'>Text size: </p>\r\n                    <input \r\n                        onChange = {this.setSize} \r\n                        type=\"number\"\r\n                        min = '10' max = '200'\r\n                        value = {this.state.sizeTextValue}\r\n                    />\r\n                        { this.state.colorPickerAvtive ?\r\n                            <SketchPicker\r\n                            onChangeComplete={this.handleChangeComplete}\r\n                            />\r\n                            : null\r\n                        }\r\n                    <p className = 'titleInstument'>Content: </p>\r\n                    <input onChange = {this.setContent} maxLength = '20' type = 'text' defaultValue = 'Title' />\r\n                    </Fragment>\r\n            )\r\n            }\r\n            case 'background': {\r\n                return (\r\n                    <Fragment>\r\n                    <p className = 'titleInstument'>Color: </p>\r\n                    <input onClick = {this.setColor} className = 'button_switchColor' type = 'button' value = 'color pick' />\r\n                        { this.state.colorPickerAvtive ?\r\n                            <SketchPicker\r\n                            onChangeComplete={this.handleChangeComplete}\r\n                            />\r\n                            : null\r\n                        }\r\n                    </Fragment>\r\n                )\r\n\r\n            }\r\n            default:{\r\n                return (\r\n                    <p className = 'warningInstruments'>Select elements for accses edit instruments</p>\r\n                )\r\n            }\r\n        }\r\n    }\r\n\r\n    render(){\r\n        let { instrumentActive } = this.state.instrumentPanel;\r\n        return (\r\n            <div  className = 'instumentsPanel'>\r\n            <button onClick = {this.closePanel} className = 'closeInstrumentsPanel'><Icon path = '/img/close.svg' /></button>\r\n                <h3>Instruments</h3>\r\n                {\r\n                    instrumentActive ? \r\n                    <p className = 'titleComponent important'>{this.state.instrumentPanel.target}</p>\r\n                    : null\r\n                }\r\n                {\r\n                    instrumentActive ?\r\n                    <div  className= 'instuments'>{this.makePanelInstruments(this.state.instrumentPanel.target)}</div>\r\n                    : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n\r\n    componentDidUpdate = (oldProps, oldState) => {\r\n\r\n      if (oldState.instrumentPanel.target !== this.props.instrumentPanel.target)\r\n        this.setState({\r\n            ...this.state,\r\n            colorPickerAvtive: false,\r\n            instrumentPanel: {...this.props.instrumentPanel}\r\n        })\r\n      return true;\r\n    }\r\n}\r\n\r\nexport default InstrumentsPanel;","import React, {useEffect, useState} from 'react';\r\nimport eventStream from '../../../../EventEmitter';\r\nimport styled from 'styled-components';\r\n\r\nconst Title = styled.h1`\r\n    position: absolute;\r\n    left: 50%;\r\n    transform: translate(-50%);\r\n    font-size: ${props => props.size};\r\n    color: ${props => props.textColor};\r\n    text-align: center;\r\n    margin: 0;\r\n`;\r\n\r\nconst Background = styled.div`\r\n    position: relative;\r\n    width: 100%;\r\n    height: 95vh;\r\n    background: ${props => props.background}\r\n`;\r\n\r\nconst Media = styled.video`\r\n    width: 100%;\r\n`;\r\n\r\nconst openBgInstruments = event => {\r\n\r\n    eventStream.emit('EventInstrumentPanel',{target: 'background'});\r\n    event.stopPropagation();\r\n}\r\n\r\nconst openMediaInstruments = event => {\r\n\r\n    eventStream.emit('EventInstrumentPanel',{target: 'media'});\r\n    event.stopPropagation();\r\n}\r\n\r\nconst openTitleInstruments = event => {\r\n\r\n    eventStream.emit('EventInstrumentPanel',{target: 'text'});\r\n    event.stopPropagation();\r\n}\r\n\r\nconst TitleComponent = props =>  {\r\n\r\n    let [colorText, setColorText] = useState(props.color);\r\n    let [sizeText, setSizeText] = useState(props.size);\r\n    let [contentText, setText] = useState(props.children);\r\n\r\n    const changeColorText = colorHash => {\r\n        const {rgb} = colorHash;\r\n        let colorRGB = `rgb(${rgb.r},${rgb.g},${rgb.b},${rgb.a})`;\r\n        setColorText(colorRGB);\r\n    }\r\n\r\n    const changeSizeText = eventSize => {\r\n        const {size} = eventSize;\r\n        setSizeText(size);\r\n    }\r\n\r\n    const changeContentText = eventContent => {\r\n        const {content} = eventContent;\r\n        setText(content);\r\n    }\r\n\r\n    const didUpdate = event => {\r\n        eventStream.on('EventChangeColorText', changeColorText);\r\n        eventStream.on('EventChangeSizeText', changeSizeText);\r\n        eventStream.on('EventChangeContentText', changeContentText);\r\n        return () => {\r\n            eventStream.off('EventChangeColorText', changeColorText);\r\n            eventStream.off('EventChangeSizeText', changeSizeText);\r\n            eventStream.off('EventChangeContentText', changeContentText);\r\n        }\r\n    }\r\n\r\n    useEffect(didUpdate);\r\n\r\n    return (\r\n        <Title\r\n            onClick={openTitleInstruments}\r\n            textColor = {colorText ? colorText : 'red'}\r\n            size = {sizeText ? sizeText : '120px'}\r\n        >\r\n            {contentText}\r\n        </Title>\r\n    )\r\n}\r\n\r\n\r\nconst BackgroundComponent = props => {\r\n\r\n    let [backgroundColor, setBgColor] = useState(props.background);\r\n\r\n    const changeColor = colorHash => {\r\n        const {rgb} = colorHash;\r\n        let colorRGB = `rgb(${rgb.r},${rgb.g},${rgb.b},${rgb.a})`;\r\n        setBgColor(colorRGB);\r\n    }\r\n\r\n    const didUpdate = event => {\r\n        eventStream.on('EventChangeColor', changeColor);\r\n        return () => {\r\n            eventStream.off('EventChangeColor', changeColor);\r\n        }\r\n    }\r\n\r\n    useEffect(didUpdate);\r\n    return (\r\n        <Background\r\n            onClick={openBgInstruments}\r\n            background = {backgroundColor}\r\n        >\r\n            {props.children}\r\n            </Background>\r\n    )\r\n}\r\n\r\nconst MediaComponent = props => <Media onClick={openMediaInstruments} width = {props.width} height = {props.height}>{props.children}</Media>;\r\n\r\nexport {\r\n    TitleComponent, BackgroundComponent,\r\n    MediaComponent\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport {TitleComponent, BackgroundComponent} from '../buildComponents/header/components/headerComponents';\r\n\r\nimport eventStream from '../../EventEmitter';\r\n\r\nimport './buildMenu.scss';\r\n\r\nclass BuildMenu extends React.PureComponent {\r\n\r\n    static propTypes = {\r\n        component: PropTypes.object\r\n    }\r\n\r\n    state = {\r\n        component: {...this.props.component},\r\n        title: 'Title'\r\n    }\r\n\r\n    addText = event => {\r\n\r\n        let componentArrayWrapper = [];\r\n        componentArrayWrapper.push(<TitleComponent key = 'header'>{this.state.title}</TitleComponent>);\r\n        eventStream.emit('EventBuildHeaderComponents',{target: 'Header', type: 'text', component: componentArrayWrapper});\r\n        event.stopPropagation();\r\n    }\r\n\r\n    addBackground = event => {\r\n\r\n        let componentArrayWrapper = [];\r\n        componentArrayWrapper.push(<BackgroundComponent key = 'bgHeader'/>);\r\n        eventStream.emit('EventBuildHeaderComponents',{target: 'Header', type: 'background', component: componentArrayWrapper});\r\n\r\n        event.stopPropagation();\r\n    }\r\n\r\n    render(){\r\n\r\n        return (\r\n            <div className = 'ComponentsMenu'>\r\n                <button onClick = {this.addBackground} className = 'ImageTool CompoentnsMenu_button' ><span>Image</span></button>\r\n                <button onClick = {this.addText} className = 'TextTool CompoentnsMenu_button' ><span>Text</span></button>\r\n                <button \r\n                    disabled = {this.state.component.name !== 'Header' ? false : true}\r\n                    className = 'ButtonTool CompoentnsMenu_button' >\r\n                    <span>Button</span>\r\n                </button>\r\n                <button className = 'VideoTool CompoentnsMenu_button' ><span>Video</span></button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default BuildMenu;","import React,{Fragment} from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Icon from '../Icon/icon';\r\nimport BuildMenu from '../componentsBuildMenu/BuildMenu';\r\n\r\nimport styled from 'styled-components';\r\n\r\nconst ControllersBox = styled.div.attrs(props => ({\r\n            style: {\r\n                left: props.coordX,\r\n                top: props.coordY,\r\n    }}))\r\n    `position: absolute;`;\r\n\r\n\r\n\r\nclass Controllers extends React.PureComponent {\r\n\r\n    static propTypes = {\r\n        menuActive: PropTypes.bool,\r\n    }\r\n\r\n    state = {\r\n        viewComponentMenu: false,\r\n        shiftX: 0,\r\n        shiftY: 0,\r\n        coordsX: '50%',\r\n        coordsY: '0'\r\n    }\r\n\r\n    componentMenu = (event) => {\r\n        this.setState({viewComponentMenu: this.state.viewComponentMenu ? false : true})\r\n    }\r\n\r\n    saveCoords = event => {\r\n        let left = event.target.getBoundingClientRect().left;\r\n        let top = event.target.getBoundingClientRect().top;\r\n        this.setState({...this.state, shiftX: event.pageX - left, \r\n        shiftY: event.pageY - top + 55});\r\n\r\n        event.stopPropagation();\r\n    }\r\n\r\n    drag = event => {\r\n        if (!this.state.viewComponentMenu){\r\n        this.setState({...this.state, coordsX: event.pageX - this.state.shiftX + 'px', \r\n                    coordsY: event.pageY - this.state.shiftY + 'px'});\r\n        }\r\n        event.stopPropagation();\r\n    }\r\n\r\n    controlBox = null;\r\n    refControll = (node) => this.controlBox = node;\r\n\r\n\r\n    render(){\r\n        return (\r\n            <Fragment>\r\n            { this.props.menuActive ?\r\n                <ControllersBox\r\n                ref = {this.refControll}\r\n                className = 'ControllersEditComponent'\r\n                coordX = {this.state.coordsX}\r\n                coordY = {this.state.coordsY}\r\n                draggable = {!this.state.viewComponentMenu}\r\n                onMouseDown = {this.saveCoords}\r\n                onClick = {this.componentMenu}\r\n                onDrag   = {this.drag}\r\n                onDragEnd = {this.drag}\r\n                >\r\n                    <Icon\r\n                        draggable = {true}\r\n                        onClick = {this.componentMenu}\r\n                        className = 'addButton'\r\n                        path = '/img/addButton.png'\r\n                    />\r\n                    {this.state.viewComponentMenu ? <BuildMenu component = {{...this.props.component}} /> : null}\r\n                </ControllersBox>\r\n                : null\r\n            }\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Controllers;","import React, {Fragment} from 'react';\r\nimport eventEmitter from '../../../EventEmitter';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nimport {BackgroundComponent} from '../../buildComponents/header/components/headerComponents';\r\nimport Controllers from '../../controllers/controllers';\r\n\r\n\r\nimport './headerBuild.scss';\r\n\r\nclass HeaderBuild extends React.PureComponent {\r\n\r\n    static propTypes = {\r\n        id: PropTypes.number.isRequired,\r\n    }\r\n\r\n    state = {\r\n        idProject: this.props.id,\r\n        component: {...this.props.children}\r\n        }\r\n\r\n\r\n    changeMode = (event) => {\r\n        if (!this.props.editStart)\r\n        eventEmitter.emit('EventModeEdit', {...this.state});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <div onClick = {this.changeMode} className = 'Header'>\r\n                    <BackgroundComponent background = 'grey'>\r\n                    {  this.props.children.build.component && this.props.children.build.type === 'text'  ?\r\n                            this.props.children.build.component : null\r\n                    }\r\n                    </BackgroundComponent>\r\n                    {!this.props.editStart ? <p className = 'warningEdit'>Click for start edit</p> : null}\r\n                    {!this.state.readyBuild ? \r\n                        <Controllers\r\n                            menuActive = {this.props.menuActive}\r\n                            component = {{...this.state.component}}\r\n\r\n                        />\r\n                        : null}\r\n                </div>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\nexport default HeaderBuild;","import React,{Fragment} from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport {Redirect} from 'react-router-dom';\r\nimport eventEmitter from '../../EventEmitter';\r\n\r\nimport withFirebase from '../../components/firebaseHOC';\r\nimport {connect} from 'react-redux';\r\n\r\nimport Loader from '../../components/loading/Loader';\r\nimport Header from '../../components/header/Header';\r\nimport InstrumentsPanel from '../../components/instrumentsPanel/InstrumentsPanel';\r\n\r\nimport HeaderBuild from '../../components/buildComponents/header/headerBuild';\r\n\r\nimport './build.scss';\r\n\r\n\r\nclass Build extends React.PureComponent {\r\n\r\n    static propTypes = {\r\n        param: PropTypes.string,\r\n        match: PropTypes.shape({\r\n            params: PropTypes.shape({\r\n                param: PropTypes.string.isRequired\r\n            }).isRequired\r\n        }).isRequired\r\n    }\r\n\r\n    state = {\r\n            idProject: parseInt(this.props.match.params.param),\r\n            typeProject: null,\r\n            editComponent: {name: null, build: {}, edit: false},\r\n            changeEdit: false,\r\n            instrumentPanel: { instrumentActive: false, target: '' },\r\n            menuActive: false,\r\n            editStart: false,\r\n        }\r\n\r\n    workModeEdit = itemEvent => {\r\n        if (!this.state.editStart || this.state.changeEdit)\r\n        this.setState({\r\n            ...this.state,\r\n            idProject: itemEvent.idProject,\r\n            editComponent: {...itemEvent.component},\r\n            menuActive: true,\r\n            editStart: true\r\n        });\r\n\r\n    }\r\n\r\n    openInstrument = itemEvent => {\r\n        if (this.state.editStart)\r\n        this.setState({\r\n            ...this.state,\r\n            instrumentPanel: {\r\n                ...this.state.instrumentPanel, \r\n                instrumentActive: true, \r\n                target: itemEvent.target }\r\n        })\r\n    }\r\n\r\n    closePanel = event => {\r\n\r\n        this.setState({\r\n            ...this.state,\r\n            instrumentPanel: {\r\n                ...this.state.instrumentPanel,\r\n                colorPickerAvtive: false,\r\n                instrumentActive: event.close}\r\n        })\r\n    }\r\n\r\n    addHeaderComponent = itemEvent => {\r\n        this.setState({\r\n            ...this.state,\r\n            editComponent: {\r\n                ...this.state.editComponent,\r\n                build: {\r\n                    target: itemEvent.target,\r\n                    type: itemEvent.type,\r\n                    component: [...itemEvent.component]},\r\n            },\r\n        });\r\n    };\r\n\r\n\r\n    render(){\r\n        let { instrumentActive } = this.state.instrumentPanel;\r\n        if (this.props.active){\r\n            return (\r\n                <Fragment>\r\n                { instrumentActive ?\r\n                    <InstrumentsPanel\r\n                        editComponent =  {{...this.state.editComponent}}\r\n                        instrumentPanel = {{...this.state.instrumentPanel}}\r\n                    />\r\n                    : null\r\n                }\r\n                    <Header title = \"Constructor\"  />\r\n                    <HeaderBuild\r\n                            editStart = {this.state.editStart}\r\n                            menuActive = {this.state.menuActive}\r\n                            id = {this.state.idProject}\r\n                    >\r\n                        {{...this.state.editComponent, name: 'Header'}}\r\n                    </HeaderBuild>\r\n                </Fragment>\r\n            )\r\n        } else if (!this.props.firebase.getCurrentUser()) return <Redirect to = '/' />\r\n        else return <Loader path = '/img/loading.gif' type = 'build' />\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        eventEmitter.on('EventBuildHeaderComponents', this.addHeaderComponent);\r\n        eventEmitter.on('EventClosePanel', this.closePanel);\r\n        eventEmitter.on('EventInstrumentPanel', this.openInstrument);\r\n        eventEmitter.on('EventModeEdit', this.workModeEdit);\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        eventEmitter.off('EventBuildHeaderComponents', this.addHeaderComponent);\r\n        eventEmitter.off('EventClosePanel', this.closePanel);\r\n        eventEmitter.off('EventInstrumentPanel', this.openInstrument);\r\n        eventEmitter.off('EventModeEdit', this.workModeEdit);\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\r\n    return {\r\n        ...state.builder,\r\n        active: state.cabinet.active,\r\n        idUser: state.cabinet.idUser,\r\n        currentEditable: {}\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(withFirebase(Build));","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {BrowserRouter, Route, Switch} from 'react-router-dom';\r\n\r\nimport {middlewareLoadUserData} from './redux/middleware/loadUserMiddleware';\r\nimport {connect} from 'react-redux';\r\nimport withFirebase from './components/firebaseHOC';\r\nimport Loader from './components/loading/Loader';\r\n\r\nimport Index from './Pages/Index/Index';\r\nimport Cabinet from './Pages/Cabinet/Cabinet';\r\nimport About from './Pages/About/About';\r\nimport Build from './Pages/Build/Build';\r\n\r\nclass App extends React.PureComponent {\r\n\r\n    static propTypes = {\r\n        config: PropTypes.object.isRequired,\r\n        firebase: PropTypes.object.isRequired,\r\n    }\r\n\r\n    state = {\r\n        firebase: this.props.firebase,\r\n        firebaseLoadState: false,\r\n    }\r\n\r\n    componentDidMount(){\r\n\r\n        this.props.firebase.auth.onAuthStateChanged((user) => {\r\n\r\n            if (!this.state.firebaseLoadState){\r\n                if (user) this.props.dispatch(middlewareLoadUserData(user.uid));\r\n                this.setState({firebaseLoadState: true});\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    render(){\r\n        if (this.state.firebaseLoadState){\r\n        return (\r\n            <BrowserRouter>\r\n                    <Switch>\r\n                        <Route\r\n                            path = '/' exact\r\n                            render = {(props) => <Index {...props} />}\r\n                        />\r\n                        <Route path = '/Cabinet/' exact component = {Cabinet}/>\r\n                        <Route\r\n                            path = '/Cabinet/About'\r\n                            render = {(props) => <About {...props} config = {this.props.config} />}\r\n                        />\r\n                        <Route path = '/Cabinet/Build/:param' component = {Build}/>\r\n                        <Route path = '*' component = {Index} />;\r\n                    </Switch>\r\n            </BrowserRouter>\r\n        )\r\n        } else return <Loader path = '/img/loading.gif' type = 'application' />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n      active: state.cabinet.active\r\n    }\r\n  }\r\n\r\nexport default connect(mapStateToProps)(withFirebase(App));","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {Provider} from 'react-redux';\nimport store from './redux/store';\nimport App from './App.jsx';\nimport 'normalize.css';\n\nconst config = require('./config.json');\n\n\nReactDOM.render(\n    <Provider store = {store}>\n        <App config = {config} />\n    </Provider>,\n        document.getElementById('root')\n);\n\n"],"sourceRoot":""}